### 完成イメージ

#### シナリオ

![image](https://i.imgur.com/3iuDfZ5.png)

#### LINE Bot

![image](https://i.imgur.com/liwV55h.jpg)


### 事前準備

#### LINE

- [ ] オウム返しする Bot が作成されていること

#### Replicate

https://qiita.com/mitsuoka0423/items/5b72830c2fb52c4a2b6c

- [ ] API キーがコピーされてすぐ利用できる状態になっていること


### `LINE` モジュールの `Download a Message Attachment` を設定する

#### 前提

- [Make](https://www.Make.com/en/login) で操作

#### 操作イメージ

![image](https://i.imgur.com/Pl7oW1s.png)

> `LINE` モジュール `Watch Events` の右側にモジュールを追加する

![image](https://i.imgur.com/z25rUBS.png)

![image](https://i.imgur.com/SkNAiLL.png)

> `LINE` モジュール `Watch Events` と同じものを選ぶ

![image](https://i.imgur.com/CB8D44s.png)

![image](https://i.imgur.com/eagYSIF.png)

![image](https://i.imgur.com/iiQ0Tsa.png)


### `ImgBB` モジュールの `Upload a Photo` を設定する

#### 前提

- [Make](https://www.Make.com/en/login) で操作

#### 操作イメージ

![image](https://i.imgur.com/FAmVPem.png)

> `LINE` モジュール `Download a Message Attachment` の右側にモジュールを追加する

![image](https://i.imgur.com/vxy4t8Q.png)

![image](https://i.imgur.com/TflPhR8.png)

![image](https://i.imgur.com/OStHOx6.png)


### `HTTP` モジュールの `Make a request` を設定する

#### 前提

- [Make](https://www.Make.com/en/login) で操作

#### 操作イメージ

![image](https://i.imgur.com/aBCFYCp.png)

![image](https://i.imgur.com/6JDXGln.png)

![image](https://i.imgur.com/NeCyWlB.png)


### `HTTP` モジュール `Make a request` を設定する

#### 前提

- [Make](https://www.Make.com/en/login) で操作

#### 操作イメージ

![image](https://i.imgur.com/cNjLIgj.png)

![image](https://i.imgur.com/Ug1zsOJ.png)

![image](https://i.imgur.com/pht4udg.png)

> Replicate の API を叩く
> 対応する項目をコピペする（不要なスペースに注意）

![image](https://i.imgur.com/R7XPfkg.png)

> `input_image` を変更する

![image](https://i.imgur.com/NyXeotR.png)

![image](https://i.imgur.com/3iuDfZ5.png)


### `LINE` モジュール `Send a Reply Message` を設定する

#### 前提

- [Make](https://www.Make.com/en/login) で操作

#### 操作イメージ

![image](https://i.imgur.com/NszMCCc.png)

![image](https://i.imgur.com/3iuDfZ5.png)


### 動作確認

生成された動画は Replicate のダッシュボードで確認できます

> https://replicate.com/
