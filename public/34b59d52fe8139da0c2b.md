---
title: 最もLGTMを獲得したのはあの記事！プロトアウトスタジオ2021年のアウトプットを振り返る
tags:
  - JavaScript
  - Node.js
  - linebot
  - stackblitz
  - 疑似彼氏
private: false
updated_at: '2021-12-01T19:22:54+09:00'
id: 34b59d52fe8139da0c2b
organization_url_name: null
slide: false
ignorePublish: false
---
## 今年も始まりました！アドベントカレンダー！

この記事は[プロトアウトスタジオのカレンダー | Advent Calendar 2021 - Qiita](https://qiita.com/advent-calendar/2021/protoout)の1日目の記事です。

みなさんこんにちは。[プロトアウトスタジオ](https://protoout.studio/)講師の光岡([@mitsuoka0423](https://twitter.com/mitsuoka0423))です。
今年も残すところ1ヶ月ですね。今年はどのような1年でしたでしょうか？？
毎年恒例のアドベントカレンダーもスタートしました。プロトアウトスタジオも毎日投稿していきますので、ぜひご覧ください。

## プロトアウトスタジオのQiita記事が1000件に到達しました！

2021年もプロトアウトスタジオ学生によるたくさんのアウトプットが行われ、Qiita記事の投稿数が1000件に到達しました！祝
(10000LGTMも目の前ですね！)
<a href="https://gyazo.com/f3b7642b296d71278f1fb5fb42196ce1"><img src="https://i.gyazo.com/f3b7642b296d71278f1fb5fb42196ce1.png" alt="Image from Gyazo" width="378"/></a>
本記事では、Qiita APIを利用して、2021年に作成されたQiita記事の中からLGTMを多く獲得した記事をピックアップして紹介していこうと思います。

## 2021年最もLGTMを獲得したのは...

### 1位: 227LGTM 疑似彼氏、作りました。 @mnana 

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/90087/082880b4-348d-24ad-8878-d4380f450fb9.png)
1位は227LGTMを獲得した「[疑似彼氏、作りました。](https://qiita.com/mnana/items/3836aee1b749670804dc)」でした！888888888

"彼氏を作ろう"という見出しから始まり、"タケシ(仮)"というポケモンのジムリーダーを連想させる名前の彼氏が出来上がる様子が見事に描かれています。
またネタ記事と見せかけて、いろんな返信パターンを持っていたりや天気APIのデータから傘が必要か教えてくれるなど、細かいところまで実装されている点も評価につながったのではないでしょうか。

### 2位: 142LGTM たかしくんに時速10kmで日本全国を最短距離で走らせました @canonno 

<a href="https://gyazo.com/e085d48ee4d33b55c776ba653d07f090"><img src="https://i.gyazo.com/e085d48ee4d33b55c776ba653d07f090.png" alt="Image from Gyazo" width="500"/></a>
2位は142LGTMで「[たかしくんに時速10kmで日本全国を最短距離で走らせました](https://qiita.com/canonno/items/29eb369d32c030fea367)」でした。

数年後の中学校くらいの教科書に載ってきそうな内容ですね。
こちらもネタ記事と見せかけて、離散最適化問題を解くアルゴリズムが実装されています。
たかしくんは18日と4時間で日本を全国を走り切ることができるそうです。以外と早いですね。

### 3位: 138LGTM 「ひらがな化API」を使って、給食メニュー変換Botを作ったら、わが子に大好評だった話 @kokano23

<a href="https://gyazo.com/663bc3f6d16f8be0d9eefc8e9ba0e8ef"><img src="https://i.gyazo.com/663bc3f6d16f8be0d9eefc8e9ba0e8ef.png" alt="Image from Gyazo" width="500"/></a>
3位は138LGTMで「[「ひらがな化API」を使って、給食メニュー変換Botを作ったら、わが子に大好評だった話](https://qiita.com/kokano23/items/b34b7d0361b8aaa6ad1f)」でした。

ひらがなが読めるようになったお子さんに向けてLINE Botを作成するファミリーテックな記事です。
リッチメニューにポケモンのイラストを使うなど、お子さんが使いたくなる工夫も施されています。

また、@kokano23さんはのびすけラジオにも登場されているので、興味がある方はぜひお聞きください。
[事務職勤めのワーママがテクノロジーを身に付けたら仕事でもプライベートでも驚きの変化が #身の丈DX #事務職DX](https://open.spotify.com/episode/0gEAeywoz9q1ykmIiGJo4o?si=YX1xsJHeR5OMVc-33DDGoQ)

### 4位〜10位

4位〜10位は以下の記事でした。

4位: 90LGTM @n0bisuke [【初見にオススメ】Raspberry Pi PicoをブラウザだけでLチカする入門 (Web Serial API)](https://qiita.com/n0bisuke/items/c16f77c7017a2d4018dd)
5位: 90LGTM @shoito66 [AIは増えすぎたガンダムを見分けることができるのか？Teachable Machineで作った分類モデルで検証してみた](https://qiita.com/shoito66/items/1b8f0ceed254f4f73f8e)
6位: 68LGTM @canonno [強化学習で酔っ払いの挙動を見る](https://qiita.com/canonno/items/4183eabd5566af2151dd)
7位: 54LGTM @naokiuc [顔からラグビー部かサッカー部かを判断する](https://qiita.com/naokiuc/items/ad01f4dae0f371b31fda)
8位: 43LGTM @tkyko13 [YouTubeの動画をQiita記事に埋め込んでみた](https://qiita.com/tkyko13/items/6b8cd03cdd306ce10663)
9位: 40LGTM @mitsuoka0423 [【ハンズオン】写真を送るとAIが分析してくれるLINE Botを1時間で作ってみよう](https://qiita.com/mitsuoka0423/items/b468ab8eb9c0639257dd)
10位: 37LGTM @chihirokubota [これで若い子とのカラオケも安心？！COBOLしか経験なし！文系出身SE(23歳女)が若者の音楽を伝授します！](https://qiita.com/chihirokubota/items/080372b221b8ec9a1c79)

11位以降の記事はこちらから確認できます。→[プロトアウトスタジオ2021アウトプット集計](https://docs.google.com/spreadsheets/d/1vJFGz8pWb3AcgcjKDZ6UbKFInZ6aNOcRObFamCM7Qwg/edit?usp=sharing)

## Qiita APIを使って記事を取得する

以降は技術な解説です。長いので流し読み推奨です。
さっと読んで、他のアドベントカレンダーの記事を見にいきましょう。
[Qiita API v2](https://qiita.com/api/v2/docs)を利用してデータを取得しています。

### 取得対象

取得対象は以下のとおりとします。

> ①[プロトアウトスタジオOrganization](https://qiita.com/organizations/protoout-studio)に属しているメンバー
> ②2021/01/01〜2021/12/01の期間に作成された記事

②の条件は、検索クエリで`created:>2021-01-01`を指定すれば良さそうです。
しかし、[検索時に利用できるオプション - Qiita:Support](https://help.qiita.com/ja/articles/qiita-search-options)を見てみても、①を絞り込む方法は今のところ公式に提供されていないようです。

[プロトアウトスタジオOrganization](https://qiita.com/organizations/protoout-studio)を眺めていると、メンバーアイコンのリンクからQiitaのユーザーIDが取得できそうです。
<a href="https://gyazo.com/aa95a178494a24602ca8d8437972ff3c"><img src="https://i.gyazo.com/aa95a178494a24602ca8d8437972ff3c.png" alt="Image from Gyazo" width="300"/></a>
今回は、Organizationに属する全メンバーのユーザーIDを取得して、それぞれのユーザーが投稿した記事の情報からLGTM数を取得していきます。

### DevToolsを使って、OrganizationメンバーのユーザーIDを取得する

今回は手軽に、DevToolsを活用してユーザーIDを取得します。

まずは取得したい要素を特定できる属性を調べます。
<a href="https://gyazo.com/685e5aec85daf66981b929366b54534e"><img src="https://i.gyazo.com/685e5aec85daf66981b929366b54534e.png" alt="Image from Gyazo" width="1704"/></a>
メンバーアイコンは、`class="op-Members_member"`を持つ`liタグ`の要素として実装されているようです。
ユーザーIDは、`liタグ`の子要素の`aタグのｈref属性`に含まれているので、それを取得していきます。

DevToolsのコンソールタブで、以下のコードを実行します。

```js
Array.from(document.getElementsByClassName('op-Members_member')).forEach(element => console.log(element.children[0].href.split('/')[3]));
```

<a href="https://gyazo.com/764a0c87de00b0ae1c64f7029123e413"><img src="https://i.gyazo.com/764a0c87de00b0ae1c64f7029123e413.png" alt="Image from Gyazo" width="1230"/></a>
これで、プロトアウトスタジオメンバーのユーザーIDを取得できました。

### Qiita APIを叩くプログラムを書く

axiosを使ってQiita APIを叩くプログラムを書いていきます。

<details><summary>クリックしてプログラム全量を表示</summary><div>

```js
'use strict';

const axios = require('axios');

const main = async () => {
  const users = [
    'cog1t0',
    'n0bisuke',
    'tseigo',
    'tkyko13',
    'mitsuoka0423',
    'ukkz',
    'shima-07',
    'takeaship',
    'UhRhythm',
    'RatchoTetsugaku',
    'kmaepu',
    'Toshiki0324',
    'banboo',
    'sksk_go',
    'MikH',
    'suo-takefumi',
    '3yaka4',
    'tatsuya1970',
    'zerozeronineking',
    'grayhamchan',
    'iizuka2019',
    'karu',
    'mihoko-funatsu',
    'taichi0128',
    'dashgo5go',
    'doikatsuyuki',
    'takeatakea',
    '13sayu',
    'marumaruchan',
    'harach19k',
    'kyanchi',
    'khoahv',
    'Teru_3',
    'hiromae0213',
    'cazzz',
    'Naru0607',
    'kaiser355',
    'canonno',
    'twtjudy1128',
    'PmanRabbit',
    'heihei15408697',
    'Sugizo50073508',
    'm3do',
    'sawakoshi_yy',
    'misa_m',
    'ranchi1977',
    'shoito66',
    'kkyosuke17',
    'kokano23',
    'ShinsukeSutou',
    'yuta-proto-biz',
    'boriko',
    'okinakamasayoshi',
    'dsvvpxgcseldie',
    'aya2648',
    'Ziyasumin01',
    'Junno',
    'yudiramaruyama',
    'kensyu20210726',
    'komona',
    'tanaka_LV5',
    'NagaharaHitomi',
    'tanakahiroki',
    'naokiuc',
    'Izumi0711',
    'watanabe-tsubasa',
    'TAKA_xedge',
    'kk_puruzera',
    'yui-kouy',
    'mnana',
    'ikumi623',
    'chihirokubota',
    'tishiyama',
  ];

  for (const user of users) {
    const response = await axios.get(
      `https://qiita.com/api/v2/items?query=created:>2021-01-01+user:${user}&per_page=100`,
      {
        headers: {
          Authorization: 'Bearer [アクセストークン]',
        },
      }
    );
    response.data.forEach((content) =>
      console.log(
        `${content.created_at},${content.user.id},${content.title},${content.likes_count},${response.data.length}`
      )
    );
  }
};

main();
```
</div></details>

### (オプション)StackBlitzを使って実行する

今回、オンラインIDEである[StackBlitz](https://stackblitz.com/)を利用して実行してみました。(ローカルで実行しても全然問題ありません。)
<a href="https://gyazo.com/f827381a69874721ddb9a05136b267db"><img src="https://i.gyazo.com/f827381a69874721ddb9a05136b267db.png" alt="Image from Gyazo" width="1000"/></a>
無料プランでもコードを書くだけでなく、ターミナルでコードを実行できました。
[Pricing](https://stackblitz.com/membership)を見ても、現時点(2021/12/01)では実行時間の上限もなさそうです。
(これはgitpodの代替サービスとなりうるかも。引き続き調査します。)

結果は以下のように出力されます。
<a href="https://gyazo.com/82dcd7de6454733a2a5c78ad6659842a"><img src="https://i.gyazo.com/82dcd7de6454733a2a5c78ad6659842a.png" alt="Image from Gyazo" width="800"/></a>
CSV形式で出力されるので、Googleスプレッドシートに読み込んでLGTM数でソートしてランキングを作成しました。

## まとめ

2021年もたくさんのアイデアが形になり、Qiita記事として投稿されました。
疑似彼氏のような自分が作りたいから作ったというタイプのアウトプットや、ひらがな変換Botのように誰かのために作ったタイプのアウトプットのどちらもQiita上でLGTMを集められているというのは面白いですね。
残り1ヶ月で、疑似彼氏を超えるLGTMを獲得する記事は生まれてくるのでしょうか...？

12/25までアドベントカレンダーは続きますので、今後の記事もぜひご覧ください！
明日の担当は @suo-takefumi さんです！
